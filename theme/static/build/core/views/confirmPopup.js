define(["backbone","./modal"],function(e,t){var s=e.View.extend({events:{"click .yes-button":"okNext","click .cancel-button":"cancelNext",keypress:"okNext"},initialize:function(e){var s=this;return e||(e={}),this.modal=new t({title:e.header||"Please confirm",body:e.message||"Are you sure you want to proceed?",buttons:{yes:{text:e.okText||"Yes",attr:{"class":"yes-button btn btn-success"}},cancel:{text:e.cancelText||"Cancel",attr:{"class":"cancel-button btn btn-default","data-dismiss":"modal"}}},onHide:function(){s.undelegateEvents()}}),this.setElement(this.modal.$el),this.okPromise=$.Deferred(),this.ok=this.okPromise.done,this.cancelPromise=$.Deferred(),this.cancel=this.cancelPromise.done,this},okNext:function(e){("click"==e.type||13==e.keyCode)&&this.okPromise.resolve(),this.$el.modal("hide"),this.$el.off("keypress")},cancelNext:function(e){"click"==e.type&&this.cancelPromise.resolve(),this.$el.modal("hide"),this.$el.off("keypress")}});return s});