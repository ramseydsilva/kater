define(["core/authSync","moment"],function(t,e){return t.Model.extend({initialize:function(){this.setCity(),this.setCategory(),this.on("change:start_date",this.setDate,this),this.on("change:end_date",this.setDate,this),this.on("change:city",this.setCity,this),this.on("change:category",this.setCategory,this)},startDate:function(){return e(this.attributes.start_date).format("DD MMM, dddd")},startTime:function(){return e(this.attributes.start_date).format("h:mm A")},endDate:function(){return e(this.attributes.end_date).format("ddd, DD MMM")},endTime:function(){return e(this.attributes.end_date).format("h:mm A")},setCity:function(){this.city=app.collections.city.findWhere({id:parseInt(this.attributes.city)})},setCategory:function(){this.category=app.collections.category.findWhere({id:parseInt(this.attributes.category)})},getSkills:function(){var t="";return this.attributes.skills.forEach(function(e){var e=app.collections.skill.findWhere({id:e});e&&(t+=", "+e.attributes.title)}),t.substr(2)},getUrl:function(){return"/jobs/"+this.id+"/"},parse:function(t){return t.latitude=parseFloat(t.latitude),t.longitude=parseFloat(t.longitude),t}})});