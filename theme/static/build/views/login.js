define(["core/view","underscore"],function(e,t){return e.extend({template:t.template(template),events:{"submit form":"formSubmit"},initialize:function(){this.render()},formSubmit:function(e){var t=this;e.preventDefault(),app.user.fetch({url:"/api/login/",beforeSend:function(e){e.setRequestHeader("Authorization","Basic "+btoa(t.emailInput.val()+":"+t.passwordInput.val()))},success:function(){app.router.navigate("/",!0)},fail:function(){console.log(arguments)}})},render:function(){this.emailInput=this.$("#emailInput"),this.passwordInput=this.$("#passwordInput")}})});