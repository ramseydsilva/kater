define(["backbone","underscore","text!templates/category.html"],function(e,t,i){return e.View.extend({template:t.template(i),events:{click:"toggle"},initialize:function(e){this.parent=e.parent,this.render()},select:function(){this.selected=!0,this.model.attributes.selected=!0,this.$el.addClass("selected"),this.$el.find("i").removeClass("invisible"),this.model.skills.forEach(function(e){e.view&&e.view.select()})},unselect:function(){this.selected=!1,this.model.attributes.selected=!1,this.$el.removeClass("selected"),this.$el.find("i").addClass("invisible"),this.model.skills.forEach(function(e){e.view&&e.view.unselect()})},toggle:function(){this.selected?this.unselect():(this.parent.selectSingleCategory&&this.parent.unselectAllCategories(),this.select()),this.model.collection.where({selected:!0}).length?this.parent.showSkillListContainer():this.parent.hideSkillListContainer()},render:function(){this.html=$(this.template({category:this.model})),this.$el.html(this.html)}})});